<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon226.png">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="KTF1.1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–æ—Ç–∞–ª–æ–≤ —Å –∏—Å—Ç–æ—Ä–∏–µ–π</title>
    <style>
        :root {
            --primary: #1a2a6c;
            --secondary: #b21f1f;
            --accent: #2980b9;
            --warning: #f39c12;
            --success: #27ae60;
            --light: #f8f9fa;
            --dark: #333;
            --danger: #dc3545;
            --radius: 10px;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            --transition: all 0.2s ease;
            --bg-gradient: linear-gradient(135deg, #1a2a6c 0%, #b21f1f 100%);
            --card-bg: white;
            --text-color: #333;
            --border-color: #e1e5e9;
        }
        
        /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ */
        .theme-dark {
            --bg-gradient: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%);
            --card-bg: #2c3e50;
            --text-color: #ecf0f1;
            --border-color: #34495e;
            --primary: #3498db;
            --secondary: #e74c3c;
            --accent: #9b59b6;
            --warning: #f1c40f;
            --success: #2ecc71;
            --light: #34495e;
            --dark: #ecf0f1;
        }
        
        /* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ */
        .theme-light {
            --bg-gradient: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            --card-bg: #ffffff;
            --text-color: #2d3436;
            --border-color: #dfe6e9;
            --primary: #0984e3;
            --secondary: #d63031;
            --accent: #00b894;
            --warning: #fdcb6e;
            --success: #00b894;
            --light: #f5f6fa;
            --dark: #2d3436;
        }
        
        /* –°–∏–Ω—è—è —Ç–µ–º–∞ */
        .theme-blue {
            --bg-gradient: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            --card-bg: #34495e;
            --text-color: #ecf0f1;
            --border-color: #41628a;
            --primary: #3498db;
            --secondary: #e74c3c;
            --accent: #9b59b6;
            --warning: #f1c40f;
            --success: #2ecc71;
        }
        
        /* –ó–µ–ª–µ–Ω–∞—è —Ç–µ–º–∞ */
        .theme-green {
            --bg-gradient: linear-gradient(135deg, #1d976c 0%, #93f9b9 100%);
            --card-bg: #2d3436;
            --text-color: #dfe6e9;
            --border-color: #636e72;
            --primary: #00b894;
            --secondary: #e17055;
            --accent: #6c5ce7;
            --warning: #fdcb6e;
            --success: #00cec9;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: 100%;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg-gradient);
            color: var(--text-color);
            line-height: 1.4;
            min-height: 100vh;
            padding: 0;
            margin: 0;
            overflow-x: hidden;
            transition: background 0.5s ease, color 0.3s ease;
        }
        
        .safe-area {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: max(12px, env(safe-area-inset-left));
            padding-right: max(12px, env(safe-area-inset-right));
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0;
        }
        
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 12px 16px;
            border-bottom: 3px solid var(--secondary);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .theme-dark header,
        .theme-blue header,
        .theme-green header {
            background: rgba(44, 62, 80, 0.95);
        }
        
        h1 {
            color: var(--primary);
            font-size: 1.3rem;
            font-weight: 700;
            margin: 0;
            line-height: 1.2;
        }
        
        .subtitle {
            color: var(--secondary);
            font-size: 0.8rem;
            opacity: 0.9;
            margin-top: 2px;
        }
        
        /* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º */
        .theme-switcher {
            position: absolute;
            top: 12px;
            right: 16px;
            display: flex;
            gap: 6px;
        }
        
        .theme-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid var(--border-color);
            background: var(--card-bg);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: var(--transition);
        }
        
        .theme-btn:hover {
            transform: scale(1.1);
        }
        
        .theme-btn.active {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.3);
        }
        
        .tabs {
            display: flex;
            background: white;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 73px;
            z-index: 90;
            overflow-x: auto;
        }
        
        .theme-dark .tabs,
        .theme-blue .tabs,
        .theme-green .tabs {
            background: var(--card-bg);
        }
        
        .tab {
            flex: 0 0 auto;
            padding: 12px 16px;
            text-align: center;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--primary);
            background: transparent;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }
        
        .tab.active {
            color: var(--secondary);
            border-bottom-color: var(--secondary);
        }
        
        .tab-content {
            display: none;
            padding: 0;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .content {
            padding: 16px;
            padding-bottom: 20px;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: background 0.3s ease, border-color 0.3s ease;
        }
        
        .card-title {
            color: var(--primary);
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* –í—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑ */
        .time-analysis {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .time-period {
            background: linear-gradient(135deg, var(--light) 0%, var(--border-color) 100%);
            border-radius: 8px;
            padding: 12px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .time-period.active {
            border-color: var(--secondary);
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.1) 0%, rgba(231, 76, 60, 0.2) 100%);
        }
        
        .time-period.recommended {
            border-color: var(--success);
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.1) 0%, rgba(46, 204, 113, 0.2) 100%);
        }
        
        .period-name {
            font-weight: 700;
            color: var(--primary);
            font-size: 0.85rem;
            margin-bottom: 4px;
        }
        
        .period-range {
            font-size: 0.75rem;
            color: var(--secondary);
            margin-bottom: 6px;
        }
        
        .period-profit {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--success);
        }
        
        .period-risk {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--danger);
        }
        
        /* –¢—Ä–µ–Ω–¥ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è */
        .trend-container {
            margin-top: 16px;
            padding: 12px;
            background: var(--light);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        
        .trend-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .trend-title {
            font-weight: 700;
            color: var(--primary);
            font-size: 0.9rem;
        }
        
        .trend-value {
            font-weight: 800;
            color: var(--secondary);
            font-size: 0.9rem;
        }
        
        .trend-bar {
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 6px;
            position: relative;
        }
        
        .trend-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .trend-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.7rem;
            color: #666;
        }
        
        .theme-dark .trend-labels,
        .theme-blue .trend-labels,
        .theme-green .trend-labels {
            color: #aaa;
        }
        
        /* –í–≤–æ–¥ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–µ–º */
        .input-grid-time {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        
        .time-input-item {
            display: flex;
            flex-direction: column;
        }
        
        .time-input-item label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 6px;
            white-space: nowrap;
        }
        
        .time-input-item input,
        .time-input-item select {
            width: 100%;
            padding: 10px 8px;
            border: 1.5px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.9rem;
            text-align: center;
            font-weight: 600;
            background: var(--light);
            color: var(--text-color);
            min-height: 42px;
        }
        
        .input-grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .input-item {
            display: flex;
            flex-direction: column;
        }
        
        .input-item label {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 6px;
            white-space: nowrap;
        }
        
        .input-item input {
            width: 100%;
            padding: 10px 8px;
            border: 1.5px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.95rem;
            text-align: center;
            font-weight: 600;
            background: var(--light);
            color: var(--text-color);
            min-height: 42px;
        }
        
        .totals-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        
        .total-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .total-item label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 5px;
            text-align: center;
            width: 100%;
        }
        
        .total-item input {
            width: 100%;
            padding: 8px;
            border: 1.5px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.9rem;
            text-align: center;
            font-weight: 600;
            background: var(--light);
            color: var(--text-color);
            min-height: 38px;
        }
        
        .slider-container {
            padding: 8px 0;
        }
        
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.85rem;
        }
        
        .slider-label span:first-child {
            font-weight: 600;
            color: var(--primary);
        }
        
        .slider-label span:last-child {
            font-weight: 700;
            color: var(--secondary);
        }
        
        input[type="range"] {
            width: 100%;
            height: 5px;
            -webkit-appearance: none;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border-radius: 3px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--card-bg);
            border: 3px solid var(--primary);
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        
        .calculate-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            border-radius: var(--radius);
            padding: 14px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            margin: 20px 0 12px;
            box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);
            min-height: 48px;
        }
        
        .calculate-btn:active {
            transform: translateY(1px);
            box-shadow: 0 2px 6px rgba(var(--primary-rgb), 0.2);
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 0 0 16px;
        }
        
        .action-btn {
            padding: 12px 8px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.85rem;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            min-height: 42px;
        }
        
        .action-btn.reset {
            background: var(--light);
            color: var(--primary);
            border: 1.5px solid var(--border-color);
        }
        
        .action-btn.share {
            background: var(--primary);
            color: white;
        }
        
        .action-btn.bet {
            background: linear-gradient(135deg, var(--success) 0%, #1e8449 100%);
            color: white;
        }
        
        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 16px;
        }
        
        .result-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            border: 1.5px solid var(--border-color);
        }
        
        .result-card .label {
            font-size: 0.75rem;
            color: #666;
            margin-bottom: 4px;
        }
        
        .theme-dark .result-card .label,
        .theme-blue .result-card .label,
        .theme-green .result-card .label {
            color: #aaa;
        }
        
        .result-card .value {
            font-size: 1.1rem;
            font-weight: 800;
            color: var(--primary);
        }
        
        .result-card .sub-value {
            font-size: 0.75rem;
            color: var(--secondary);
            margin-top: 2px;
        }
        
        .new-totals {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 16px;
        }
        
        .new-total-card {
            background: linear-gradient(135deg, var(--light) 0%, var(--border-color) 100%);
            border-radius: 8px;
            padding: 12px 8px;
            text-align: center;
            border: 1.5px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }
        
        .new-total-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .total-name {
            font-weight: 700;
            color: var(--primary);
            font-size: 0.75rem;
            margin-bottom: 4px;
            white-space: nowrap;
        }
        
        .old-coef {
            font-size: 0.7rem;
            color: #888;
            text-decoration: line-through;
            margin-bottom: 2px;
        }
        
        .theme-dark .old-coef,
        .theme-blue .old-coef,
        .theme-green .old-coef {
            color: #aaa;
        }
        
        .new-coef {
            font-size: 1rem;
            font-weight: 800;
            color: var(--secondary);
            margin: 2px 0;
        }
        
        .delta {
            font-size: 0.7rem;
            font-weight: 600;
            padding: 1px 6px;
            border-radius: 8px;
            display: inline-block;
        }
        
        .positive {
            background: rgba(46, 204, 113, 0.15);
            color: var(--success);
        }
        
        .negative {
            background: rgba(231, 76, 60, 0.15);
            color: var(--danger);
        }
        
        .summary {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 16px;
            margin-top: 16px;
            border: 1.5px solid var(--border-color);
        }
        
        .summary-title {
            color: var(--secondary);
            font-size: 0.95rem;
            font-weight: 700;
            margin-bottom: 12px;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.85rem;
        }
        
        .summary-item:last-child {
            border-bottom: none;
        }
        
        .summary-item .label {
            font-weight: 600;
            color: var(--text-color);
            opacity: 0.8;
        }
        
        .summary-item .value {
            font-weight: 700;
            color: var(--primary);
        }
        
        /* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞–≤–∫–∞–º */
        .bet-recommendation {
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.1) 0%, rgba(46, 204, 113, 0.2) 100%);
            border-radius: var(--radius);
            padding: 16px;
            margin: 16px 0;
            border: 2px solid var(--success);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(46, 204, 113, 0); }
            100% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0); }
        }
        
        .bet-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }
        
        .bet-icon {
            width: 24px;
            height: 24px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .bet-title {
            color: var(--success);
            font-size: 1rem;
            font-weight: 700;
            flex: 1;
        }
        
        .bet-confidence {
            background: var(--success);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .bet-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .bet-detail {
            background: var(--card-bg);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }
        
        .bet-detail .label {
            font-size: 0.7rem;
            color: #666;
            margin-bottom: 4px;
        }
        
        .theme-dark .bet-detail .label,
        .theme-blue .bet-detail .label,
        .theme-green .bet-detail .label {
            color: #aaa;
        }
        
        .bet-detail .value {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .bet-reason {
            font-size: 0.85rem;
            line-height: 1.4;
            color: var(--text-color);
            padding: 10px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .theme-dark .bet-reason,
        .theme-blue .bet-reason,
        .theme-green .bet-reason {
            background: rgba(255, 255, 255, 0.1);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π */
        .alternative-bets {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 16px;
        }
        
        .alt-bet {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            border: 1.5px solid var(--border-color);
            text-align: center;
        }
        
        .alt-bet .name {
            font-weight: 700;
            color: var(--primary);
            font-size: 0.8rem;
            margin-bottom: 6px;
        }
        
        .alt-bet .coef {
            font-size: 1rem;
            font-weight: 800;
            color: var(--secondary);
            margin-bottom: 4px;
        }
        
        .alt-bet .potential {
            font-size: 0.7rem;
            color: var(--success);
            font-weight: 600;
        }
        
        /* –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫ */
        .history-list {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 16px;
        }
        
        .history-item {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }
        
        .history-item.win {
            border-left: 4px solid var(--success);
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.1) 0%, var(--card-bg) 100%);
        }
        
        .history-item.loss {
            border-left: 4px solid var(--danger);
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.1) 0%, var(--card-bg) 100%);
        }
        
        .history-item.pending {
            border-left: 4px solid var(--warning);
            background: linear-gradient(135deg, rgba(241, 196, 15, 0.1) 0%, var(--card-bg) 100%);
        }
        
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .history-date {
            font-size: 0.7rem;
            color: var(--secondary);
            font-weight: 600;
        }
        
        .history-status {
            font-size: 0.7rem;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 10px;
        }
        
        .status-win {
            background: rgba(46, 204, 113, 0.2);
            color: var(--success);
        }
        
        .status-loss {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }
        
        .status-pending {
            background: rgba(241, 196, 15, 0.2);
            color: var(--warning);
        }
        
        .history-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 10px;
        }
        
        .history-detail {
            text-align: center;
        }
        
        .history-detail .label {
            font-size: 0.65rem;
            color: #666;
            margin-bottom: 2px;
        }
        
        .theme-dark .history-detail .label,
        .theme-blue .history-detail .label,
        .theme-green .history-detail .label {
            color: #aaa;
        }
        
        .history-detail .value {
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .history-actions {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }
        
        .history-btn {
            flex: 1;
            padding: 6px;
            border-radius: 6px;
            border: none;
            font-size: 0.7rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .history-btn.win {
            background: rgba(46, 204, 113, 0.2);
            color: var(--success);
            border: 1px solid var(--success);
        }
        
        .history-btn.loss {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
            border: 1px solid var(--danger);
        }
        
        .history-btn.delete {
            background: rgba(149, 165, 166, 0.2);
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }
        
        .history-btn:hover {
            transform: translateY(-1px);
            opacity: 0.9;
        }
        
        .history-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 16px;
        }
        
        .stat-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            border: 1px solid var(--border-color);
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 4px;
        }
        
        .stat-label {
            font-size: 0.7rem;
            color: #666;
        }
        
        .theme-dark .stat-label,
        .theme-blue .stat-label,
        .theme-green .stat-label {
            color: #aaa;
        }
        
        /* –ë–∞–Ω–Ω–µ—Ä—ã */
        .time-recommendation {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1) 0%, rgba(52, 152, 219, 0.2) 100%);
            border-radius: 8px;
            padding: 14px;
            margin: 16px 0;
            border: 2px solid var(--accent);
        }
        
        .recommendation-title {
            color: var(--accent);
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .recommendation-text {
            font-size: 0.85rem;
            line-height: 1.4;
            color: var(--text-color);
        }
        
        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
        .info-panel {
            background: rgba(var(--primary-rgb), 0.05);
            border-radius: var(--radius);
            padding: 16px;
            margin-top: 16px;
            border: 1.5px solid rgba(var(--primary-rgb), 0.1);
        }
        
        .info-title {
            color: var(--primary);
            font-size: 0.95rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .info-text {
            font-size: 0.85rem;
            line-height: 1.4;
            color: var(--text-color);
        }
        
        .formula {
            background: var(--light);
            padding: 12px;
            border-radius: 8px;
            margin: 12px 0;
            font-family: monospace;
            font-size: 0.9rem;
            text-align: center;
            border-left: 3px solid var(--secondary);
        }
        
        footer {
            text-align: center;
            padding: 16px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.75rem;
            background: rgba(0, 0, 0, 0.2);
            margin-top: 20px;
        }
        
        /* –ò–∫–æ–Ω–∫–∏ */
        .icon {
            display: inline-block;
            width: 16px;
            height: 16px;
            background-size: contain;
            background-repeat: no-repeat;
        }
        
        .icon-clock { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%231a2a6c'%3E%3Cpath d='M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z'/%3E%3C/svg%3E"); }
        .icon-trend-up { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2327ae60'%3E%3Cpath d='M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z'/%3E%3C/svg%3E"); }
        .icon-trend-down { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23dc3545'%3E%3Cpath d='M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z'/%3E%3C/svg%3E"); }
        .icon-warning { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f39c12'%3E%3Cpath d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E"); }
        .icon-check { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2327ae60'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E"); }
        .icon-moon { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f1c40f'%3E%3Cpath d='M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0 1 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49z'/%3E%3C/svg%3E"); }
        .icon-sun { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f39c12'%3E%3Cpath d='M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407-1.79 1.79-1.407-1.408zm-1.8 15.115l1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41 1.79-1.8-1.41-1.41z'/%3E%3C/svg%3E"); }
        
        @media (max-width: 360px) {
            .input-grid-2,
            .input-grid-time {
                grid-template-columns: 1fr;
            }
            
            .totals-grid,
            .new-totals {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .time-analysis {
                grid-template-columns: 1fr;
            }
            
            .bet-details {
                grid-template-columns: 1fr;
            }
            
            .alternative-bets {
                grid-template-columns: 1fr;
            }
            
            .history-details {
                grid-template-columns: 1fr;
            }
            
            .history-stats {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-height: 700px) {
            .content {
                padding: 12px;
            }
            
            .card {
                padding: 12px;
                margin-bottom: 12px;
            }
            
            .calculate-btn {
                margin: 12px 0 8px;
            }
        }
        
        @media (orientation: landscape) and (max-height: 500px) {
            header {
                position: relative;
            }
            
            .tabs {
                position: relative;
                top: 0;
            }
            
            .content {
                padding: 8px 16px;
            }
        }
        
        .swipe-indicator {
            text-align: center;
            padding: 6px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.7rem;
            display: none;
        }
        
        @media (max-width: 768px) {
            .swipe-indicator {
                display: block;
            }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        input[type=number] {
            -moz-appearance: textfield;
        }
        
        /* iOS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã */
        .ios-keyboard-optimized {
            font-size: 16px !important; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ iOS */
        }
        
        /* –ö–ª–∞—Å—Å –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π —Å –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Ç–æ—á–∫–æ–π */
        .decimal-input {
            inputmode: decimal;
            -webkit-appearance: none;
            appearance: none;
        }
        
        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è iOS */
        @supports (-webkit-touch-callout: none) {
            input[type="number"] {
                font-size: 16px !important;
                letter-spacing: 0.5px;
            }
            
            .input-item input:focus,
            .total-item input:focus {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            }
            
            /* –£–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã iOS */
            .keyboard-open {
                padding-bottom: 300px !important;
            }
            
            /* –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã */
            input, select {
                transition: all 0.3s ease;
            }
        }
    </style>
</head>
<body class="theme-default">
    <div class="safe-area">
        <div class="container">
            <header>
                <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–æ—Ç–∞–ª–æ–≤ —Å –∏—Å—Ç–æ—Ä–∏–µ–π</h1>
                <p class="subtitle">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ + –∏—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫ + —Å–º–µ–Ω–∞ —Ç–µ–º</p>
                <div class="theme-switcher">
                    <button class="theme-btn active" data-theme="default" title="–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ç–µ–º–∞">
                        üåà
                    </button>
                    <button class="theme-btn" data-theme="dark" title="–¢–µ–º–Ω–∞—è —Ç–µ–º–∞">
                        üåô
                    </button>
                    <button class="theme-btn" data-theme="light" title="–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞">
                        ‚òÄÔ∏è
                    </button>
                    <button class="theme-btn" data-theme="blue" title="–°–∏–Ω—è—è —Ç–µ–º–∞">
                        üîµ
                    </button>
                    <button class="theme-btn" data-theme="green" title="–ó–µ–ª–µ–Ω–∞—è —Ç–µ–º–∞">
                        üü¢
                    </button>
                </div>
            </header>
            
            <div class="swipe-indicator">
                ‚Üê –°–≤–∞–π–ø –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è ‚Üí
            </div>
            
            <div class="tabs">
                <button class="tab active" data-tab="input">–í–≤–æ–¥</button>
                <button class="tab" data-tab="time-analysis">–í—Ä–µ–º—è</button>
                <button class="tab" data-tab="results">–†–∞—Å—á–µ—Ç</button>
                <button class="tab" data-tab="bets">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</button>
                <button class="tab" data-tab="history">–ò—Å—Ç–æ—Ä–∏—è</button>
                <button class="tab" data-tab="info">–ò–Ω—Ñ–æ</button>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –≤–≤–æ–¥–∞ -->
            <div id="input" class="tab-content active">
                <div class="content">
                    <div class="card">
                        <div class="card-title"><span class="icon icon-clock"></span> –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã</div>
                        <div class="input-grid-time">
                            <div class="time-input-item">
                                <label>–°—Ç–∞—Ä—ã–π –∫–æ—ç—Ñ. –≤—Ä–µ–º—è</label>
                                <select id="time_old_period">
                                    <option value="prematch">–ü—Ä–µ–º–∞—Ç—á</option>
                                    <option value="1-15" selected>1-15 –º–∏–Ω</option>
                                    <option value="16-30">16-30 –º–∏–Ω</option>
                                    <option value="31-45">31-45 –º–∏–Ω</option>
                                    <option value="46-60">46-60 –º–∏–Ω</option>
                                    <option value="61-75">61-75 –º–∏–Ω</option>
                                    <option value="76-90">76-90 –º–∏–Ω</option>
                                </select>
                            </div>
                            <div class="input-item">
                                <label>–ü1 —Å—Ç–∞—Ä—ã–π</label>
                                <input type="number" id="p1_old" step="0.01" min="1.01" value="1.85" placeholder="1.85" 
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                            <div class="input-item">
                                <label>–ü2 —Å—Ç–∞—Ä—ã–π</label>
                                <input type="number" id="p2_old" step="0.01" min="1.01" value="2.05" placeholder="2.05"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                        </div>
                        
                        <div class="input-grid-time" style="margin-top: 12px;">
                            <div class="time-input-item">
                                <label>–ù–æ–≤—ã–π –∫–æ—ç—Ñ. –≤—Ä–µ–º—è</label>
                                <select id="time_new_period">
                                    <option value="prematch">–ü—Ä–µ–º–∞—Ç—á</option>
                                    <option value="1-15">1-15 –º–∏–Ω</option>
                                    <option value="16-30" selected>16-30 –º–∏–Ω</option>
                                    <option value="31-45">31-45 –º–∏–Ω</option>
                                    <option value="46-60">46-60 –º–∏–Ω</option>
                                    <option value="61-75">61-75 –º–∏–Ω</option>
                                    <option value="76-90">76-90 –º–∏–Ω</option>
                                </select>
                            </div>
                            <div class="input-item">
                                <label>–ü1 –Ω–æ–≤—ã–π</label>
                                <input type="number" id="p1_new" step="0.01" min="1.01" value="1.75" placeholder="1.75"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                            <div class="input-item">
                                <label>–ü2 –Ω–æ–≤—ã–π</label>
                                <input type="number" id="p2_new" step="0.01" min="1.01" value="2.20" placeholder="2.20"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                        </div>
                    </div>
                    
                    <div class="time-recommendation">
                        <div class="recommendation-title">
                            <span class="icon icon-check"></span>
                            –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Å—Ç–∞–≤–∫–∏: 16-30 –º–∏–Ω—É—Ç–∞
                        </div>
                        <div class="recommendation-text">
                            –í —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥ –≤–∏–¥–µ–Ω —Ç—Ä–µ–Ω–¥ –º–∞—Ç—á–∞, –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã, –∞ –±—É–∫–º–µ–∫–µ—Ä—Å–∫–∞—è –º–∞—Ä–∂–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞.
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–¢–µ–∫—É—â–∏–µ —Ç–æ—Ç–∞–ª—ã</div>
                        <div class="totals-grid">
                            <div class="total-item">
                                <label>–¢–ë 2.5</label>
                                <input type="number" id="tb25_old" step="0.01" min="1.01" value="1.95"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                            <div class="total-item">
                                <label>–¢–ú 2.5</label>
                                <input type="number" id="tm25_old" step="0.01" min="1.01" value="1.85"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                            <div class="total-item">
                                <label>–¢–ë 3.5</label>
                                <input type="number" id="tb35_old" step="0.01" min="1.01" value="2.30"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                            <div class="total-item">
                                <label>–¢–ú 3.5</label>
                                <input type="number" id="tm35_old" step="0.01" min="1.01" value="1.65"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                            <div class="total-item">
                                <label>–¢–ë 1.5</label>
                                <input type="number" id="tb15_old" step="0.01" min="1.01" value="1.45"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                            <div class="total-item">
                                <label>–¢–ú 1.5</label>
                                <input type="number" id="tm15_old" step="0.01" min="1.01" value="2.70"
                                       inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" class="ios-keyboard-optimized">
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏</div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>–°–∏–ª–∞ –≤–ª–∏—è–Ω–∏—è (w):</span>
                                <span id="w_value">1.5</span>
                            </div>
                            <input type="range" id="w_param" min="0" max="3" step="0.1" value="1.5">
                        </div>
                        <div class="slider-container" style="margin-top: 16px;">
                            <div class="slider-label">
                                <span>–í—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∞–∫—Ç–æ—Ä:</span>
                                <span id="time_factor_value">1.2</span>
                            </div>
                            <input type="range" id="time_factor" min="0.5" max="2" step="0.1" value="1.2">
                        </div>
                    </div>
                    
                    <button class="calculate-btn" id="calculate-btn">
                        –†–ê–°–°–ß–ò–¢–ê–¢–¨ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò
                    </button>
                    
                    <div class="action-buttons">
                        <button class="action-btn reset" id="reset-btn">
                            –°–±—Ä–æ—Å–∏—Ç—å
                        </button>
                        <button class="action-btn share" id="share-btn">
                            –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ -->
            <div id="time-analysis" class="tab-content">
                <div class="content">
                    <div class="card">
                        <div class="card-title"><span class="icon icon-clock"></span> –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤</div>
                        <div class="time-analysis">
                            <div class="time-period" data-period="prematch">
                                <div class="period-name">–ü—Ä–µ–º–∞—Ç—á</div>
                                <div class="period-range">–î–æ –Ω–∞—á–∞–ª–∞</div>
                                <div class="period-risk">–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é</div>
                            </div>
                            <div class="time-period active" data-period="1-15">
                                <div class="period-name">1-15 –º–∏–Ω</div>
                                <div class="period-range">1-–π —Ç–∞–π–º –Ω–∞—á–∞–ª–æ</div>
                                <div class="period-profit">–°—Ä–µ–¥–Ω—è—è —Å—Ç–∞–≤–∫–∞</div>
                            </div>
                            <div class="time-period recommended" data-period="16-30">
                                <div class="period-name">16-30 –º–∏–Ω</div>
                                <div class="period-range">1-–π —Ç–∞–π–º —Å–µ—Ä–µ–¥–∏–Ω–∞</div>
                                <div class="period-profit">–õ–£–ß–®–ò–ô –ü–ï–†–ò–û–î</div>
                            </div>
                            <div class="time-period" data-period="31-45">
                                <div class="period-name">31-45 –º–∏–Ω</div>
                                <div class="period-range">1-–π —Ç–∞–π–º –∫–æ–Ω–µ—Ü</div>
                                <div class="period-risk">–†–∏—Å–∫: –°—Ä–µ–¥–Ω–∏–π</div>
                            </div>
                            <div class="time-period" data-period="46-60">
                                <div class="period-name">46-60 –º–∏–Ω</div>
                                <div class="period-range">2-–π —Ç–∞–π–º –Ω–∞—á–∞–ª–æ</div>
                                <div class="period-profit">–•–æ—Ä–æ—à–∞—è —Å—Ç–∞–≤–∫–∞</div>
                            </div>
                            <div class="time-period" data-period="61-75">
                                <div class="period-name">61-75 –º–∏–Ω</div>
                                <div class="period-range">2-–π —Ç–∞–π–º —Å–µ—Ä–µ–¥–∏–Ω–∞</div>
                                <div class="period-risk">–†–∏—Å–∫: –ù–∏–∑–∫–∏–π</div>
                            </div>
                            <div class="time-period" data-period="76-90">
                                <div class="period-name">76-90 –º–∏–Ω</div>
                                <div class="period-range">2-–π —Ç–∞–π–º –∫–æ–Ω–µ—Ü</div>
                                <div class="period-risk">–û—á–µ–Ω—å —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–æ</div>
                            </div>
                        </div>
                        
                        <div class="trend-container">
                            <div class="trend-header">
                                <div class="trend-title">–¢—Ä–µ–Ω–¥ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –ü1</div>
                                <div class="trend-value">‚ñº 5.4%</div>
                            </div>
                            <div class="trend-bar">
                                <div class="trend-fill" style="width: 65%;"></div>
                            </div>
                            <div class="trend-labels">
                                <span>–ü—Ä–µ–º–∞—Ç—á</span>
                                <span>1-–π —Ç–∞–π–º</span>
                                <span>2-–π —Ç–∞–π–º</span>
                            </div>
                        </div>
                        
                        <div class="trend-container">
                            <div class="trend-header">
                                <div class="trend-title">–¢—Ä–µ–Ω–¥ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –ü2</div>
                                <div class="trend-value">‚ñ≤ 7.2%</div>
                            </div>
                            <div class="trend-bar">
                                <div class="trend-fill" style="width: 72%;"></div>
                            </div>
                            <div class="trend-labels">
                                <span>–ü—Ä–µ–º–∞—Ç—á</span>
                                <span>1-–π —Ç–∞–π–º</span>
                                <span>2-–π —Ç–∞–π–º</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—Ç–∞–≤–æ–∫</div>
                        <div style="font-size: 0.85rem; line-height: 1.4; color: var(--text-color);">
                            <div style="margin-bottom: 10px; padding: 10px; background: rgba(46, 204, 113, 0.1); border-radius: 8px;">
                                <strong>‚≠ê –õ–£–ß–®–ï–ï –í–†–ï–ú–Ø: 16-30 –º–∏–Ω—É—Ç–∞</strong><br>
                                –ü–æ—á–µ–º—É: –í–∏–¥–µ–Ω —Ç—Ä–µ–Ω–¥, —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, –Ω–∏–∑–∫–∞—è –º–∞—Ä–∂–∞
                            </div>
                            <div style="margin-bottom: 10px; padding: 10px; background: rgba(241, 196, 15, 0.1); border-radius: 8px;">
                                <strong>–•–æ—Ä–æ—à–µ–µ –≤—Ä–µ–º—è: 46-60 –º–∏–Ω—É—Ç–∞</strong><br>
                                –ü–æ—á–µ–º—É: –í—Ç–æ—Ä–æ–π —Ç–∞–π–º –Ω–∞—á–∞–ª—Å—è, –≤–∏–¥–Ω–∞ —Ç–∞–∫—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥
                            </div>
                            <div style="margin-bottom: 10px; padding: 10px; background: rgba(231, 76, 60, 0.1); border-radius: 8px;">
                                <strong>–ò–∑–±–µ–≥–∞—Ç—å: –ü—Ä–µ–º–∞—Ç—á –∏ 76-90 –º–∏–Ω</strong><br>
                                –ü–æ—á–µ–º—É: –í—ã—Å–æ–∫–∞—è –º–∞—Ä–∂–∞ –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn reset" id="apply-time-btn">
                            –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–∏–æ–¥
                        </button>
                        <button class="action-btn share" id="time-back-btn">
                            –ù–∞–∑–∞–¥ –∫ –≤–≤–æ–¥—É
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤ -->
            <div id="results" class="tab-content">
                <div class="content">
                    <div class="card">
                        <div class="card-title">–ê–Ω–∞–ª–∏–∑ —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏</div>
                        <div class="results-grid">
                            <div class="result-card">
                                <div class="label">–í—Ä–µ–º–µ–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥</div>
                                <div class="value" id="time_period">1-15 ‚Üí 16-30</div>
                                <div class="sub-value">–º–∏–Ω</div>
                            </div>
                            <div class="result-card">
                                <div class="label">–í—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∞–∫—Ç–æ—Ä</div>
                                <div class="value" id="time_factor_display">1.2x</div>
                                <div class="sub-value">–∫–æ—Ä—Ä–µ–∫—Ü–∏—è</div>
                            </div>
                            <div class="result-card">
                                <div class="label">–ú–∞—Ä–∂–∞ –±—ã–ª–∞</div>
                                <div class="value" id="r_old">1.055</div>
                                <div class="sub-value">R_old</div>
                            </div>
                            <div class="result-card">
                                <div class="label">–ú–∞—Ä–∂–∞ —Å—Ç–∞–ª–∞</div>
                                <div class="value" id="r_new">1.064</div>
                                <div class="sub-value">R_new</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–ù–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã</div>
                        <div class="new-totals">
                            <div class="new-total-card">
                                <div class="total-name">–¢–ë 2.5</div>
                                <div class="old-coef">1.95</div>
                                <div class="new-coef" id="tb25_new">1.975</div>
                                <div class="delta positive" id="tb25_delta">+0.025</div>
                            </div>
                            <div class="new-total-card">
                                <div class="total-name">–¢–ú 2.5</div>
                                <div class="old-coef">1.85</div>
                                <div class="new-coef" id="tm25_new">1.875</div>
                                <div class="delta positive" id="tm25_delta">+0.025</div>
                            </div>
                            <div class="new-total-card">
                                <div class="total-name">–¢–ë 3.5</div>
                                <div class="old-coef">2.30</div>
                                <div class="new-coef" id="tb35_new">2.330</div>
                                <div class="delta positive" id="tb35_delta">+0.030</div>
                            </div>
                            <div class="new-total-card">
                                <div class="total-name">–¢–ú 3.5</div>
                                <div class="old-coef">1.65</div>
                                <div class="new-coef" id="tm35_new">1.672</div>
                                <div class="delta positive" id="tm35_delta">+0.022</div>
                            </div>
                            <div class="new-total-card">
                                <div class="total-name">–¢–ë 1.5</div>
                                <div class="old-coef">1.45</div>
                                <div class="new-coef" id="tb15_new">1.469</div>
                                <div class="delta positive" id="tb15_delta">+0.019</div>
                            </div>
                            <div class="new-total-card">
                                <div class="total-name">–¢–ú 1.5</div>
                                <div class="old-coef">2.70</div>
                                <div class="new-coef" id="tm15_new">2.736</div>
                                <div class="delta positive" id="tm15_delta">+0.036</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="summary">
                        <div class="summary-title">–ê–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π</div>
                        <div class="summary-item">
                            <div class="label">–°—Ä–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:</div>
                            <div class="value" id="avg_change">+0.026</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç:</div>
                            <div class="value" id="max_change">–¢–ú 1.5 (+0.036)</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç:</div>
                            <div class="value" id="min_change">–¢–ú 3.5 (+0.022)</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">–í—Ä–µ–º–µ–Ω–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</div>
                            <div class="value" id="efficiency">87%</div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn reset" id="results-back-btn">
                            –ù–∞–∑–∞–¥ –∫ –≤–≤–æ–¥—É
                        </button>
                        <button class="action-btn bet" id="go-to-bets-btn">
                            –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —Å—Ç–∞–≤–∫–∞–º -->
            <div id="bets" class="tab-content">
                <div class="content">
                    <div class="bet-recommendation">
                        <div class="bet-header">
                            <div class="bet-icon">‚≠ê</div>
                            <div class="bet-title">–ì–õ–ê–í–ù–ê–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø</div>
                            <div class="bet-confidence">85%</div>
                        </div>
                        
                        <div class="bet-details">
                            <div class="bet-detail">
                                <div class="label">–°—Ç–∞–≤–∫–∞</div>
                                <div class="value" id="bet_main_name">–¢–ú 1.5</div>
                            </div>
                            <div class="bet-detail">
                                <div class="label">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç</div>
                                <div class="value" id="bet_main_coef">2.736</div>
                            </div>
                            <div class="bet-detail">
                                <div class="label">–í—Ä–µ–º—è —Å—Ç–∞–≤–∫–∏</div>
                                <div class="value" id="bet_main_time">20-25 –º–∏–Ω</div>
                            </div>
                            <div class="bet-detail">
                                <div class="label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å</div>
                                <div class="value" id="bet_main_profit">+36%</div>
                            </div>
                        </div>
                        
                        <div class="bet-reason" id="bet_main_reason">
                            –ù–∞–∏–±–æ–ª—å—à–∏–π —Ä–æ—Å—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ (+0.036) –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤—ã—Ä–æ—Å –Ω–∞ 1.3%, —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫—É –±—É–∫–º–µ–∫–µ—Ä–æ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –º–∞–ª–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–æ–ª–æ–≤.
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–≤–∫–∏</div>
                        <div class="alternative-bets">
                            <div class="alt-bet">
                                <div class="name" id="bet_alt1_name">–¢–ë 3.5</div>
                                <div class="coef" id="bet_alt1_coef">2.330</div>
                                <div class="potential" id="bet_alt1_potential">+30</div>
                            </div>
                            <div class="alt-bet">
                                <div class="name" id="bet_alt2_name">–¢–ë 2.5</div>
                                <div class="coef" id="bet_alt2_coef">1.975</div>
                                <div class="potential" id="bet_alt2_potential">+25</div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 16px; font-size: 0.8rem; color: var(--text-color);">
                            <strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è:</strong> 
                            <span id="bet_strategy">–î–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É –Ω–∞ 20-25 –º–∏–Ω—É—Ç–µ –ø—Ä–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–µ –≤—ã—à–µ 2.70</span>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–î–µ—Ç–∞–ª–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</div>
                        <div class="summary">
                            <div class="summary-item">
                                <div class="label">–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥:</div>
                                <div class="value" id="bet_optimal_period">16-30 –º–∏–Ω—É—Ç–∞</div>
                            </div>
                            <div class="summary-item">
                                <div class="label">–õ—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –≤—Ö–æ–¥–∞:</div>
                                <div class="value" id="bet_best_time">20-25 –º–∏–Ω—É—Ç–∞</div>
                            </div>
                            <div class="summary-item">
                                <div class="label">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç–∞–≤–∫–∏:</div>
                                <div class="value" id="bet_size">2-3% –æ—Ç –±–∞–Ω–∫–∞</div>
                            </div>
                            <div class="summary-item">
                                <div class="label">–û–∂–∏–¥–∞–µ–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å:</div>
                                <div class="value" id="bet_accuracy">¬±3.2%</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn reset" id="bets-back-btn">
                            –ù–∞–∑–∞–¥ –∫ —Ä–∞—Å—á–µ—Ç–∞–º
                        </button>
                        <button class="action-btn bet" id="save-bet-btn">
                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ -->
            <div id="history" class="tab-content">
                <div class="content">
                    <div class="card">
                        <div class="card-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç–∞–≤–æ–∫</div>
                        <div class="history-stats">
                            <div class="stat-card">
                                <div class="stat-value" id="total-bets">0</div>
                                <div class="stat-label">–í—Å–µ–≥–æ —Å—Ç–∞–≤–æ–∫</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="win-rate">0%</div>
                                <div class="stat-label">–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-profit">0</div>
                                <div class="stat-label">–û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫</div>
                        <div id="empty-history" style="text-align: center; padding: 40px 20px; color: #666;">
                            <div style="font-size: 48px; margin-bottom: 16px;">üìä</div>
                            <div style="font-size: 0.9rem; margin-bottom: 8px;">–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫ –ø—É—Å—Ç–∞</div>
                            <div style="font-size: 0.8rem; opacity: 0.7;">–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –æ—Ç–º–µ—á–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</div>
                        </div>
                        <div class="history-list" id="history-list">
                            <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                        </div>
                    </div>
                    
                    <div class="time-recommendation">
                        <div class="recommendation-title">
                            <span class="icon icon-warning"></span>
                            –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                        </div>
                        <div class="recommendation-text">
                            –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞–≤–æ–∫, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é.
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn reset" id="clear-history-btn">
                            –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                        </button>
                        <button class="action-btn share" id="history-back-btn">
                            –ù–∞–∑–∞–¥ –∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
            <div id="info" class="tab-content">
                <div class="content">
                    <div class="info-panel">
                        <div class="info-title">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</div>
                        <div class="info-text">
                            –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è —Å—Ç–∞–≤–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏.
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</div>
                        <div style="font-size: 0.85rem; line-height: 1.4; color: var(--text-color);">
                            <div style="margin-bottom: 8px; padding-left: 16px; border-left: 3px solid var(--success);">
                                <strong>–ì–ª–∞–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</strong><br>
                                ‚Ä¢ –ù–∞–∏–±–æ–ª—å—à–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞<br>
                                ‚Ä¢ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤—ã—à–µ 1.8<br>
                                ‚Ä¢ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥
                            </div>
                            <div style="margin-bottom: 8px; padding-left: 16px; border-left: 3px solid var(--accent);">
                                <strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–≤–∫–∏:</strong><br>
                                ‚Ä¢ –í—Ç–æ—Ä–æ–µ –∏ —Ç—Ä–µ—Ç—å–µ –ø–æ –≤–µ–ª–∏—á–∏–Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è<br>
                                ‚Ä¢ –•–æ—Ä–æ—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å
                            </div>
                            <div style="padding-left: 16px; border-left: 3px solid var(--warning);">
                                <strong>–í—Ä–µ–º—è —Å—Ç–∞–≤–∫–∏:</strong><br>
                                ‚Ä¢ 16-30 –º–∏–Ω—É—Ç–∞ - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ<br>
                                ‚Ä¢ 46-60 –º–∏–Ω—É—Ç–∞ - —Ö–æ—Ä–æ—à–æ<br>
                                ‚Ä¢ –ò–∑–±–µ–≥–∞—Ç—å –∫–æ–Ω—Ü–∞ —Ç–∞–π–º–æ–≤
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å—Ç–∞–≤–æ–∫</div>
                        <div style="font-size: 0.85rem; line-height: 1.4; color: var(--text-color);">
                            <div style="margin-bottom: 8px;">
                                1. <strong>–ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–º–∞—Ç—á–∞:</strong> –ò–∑—É—á–∏—Ç–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã
                            </div>
                            <div style="margin-bottom: 8px;">
                                2. <strong>–ù–∞–±–ª—é–¥–µ–Ω–∏–µ 1-15 –º–∏–Ω:</strong> –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
                            </div>
                            <div style="margin-bottom: 8px;">
                                3. <strong>–°—Ç–∞–≤–∫–∞ 16-30 –º–∏–Ω:</strong> –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –≤—Ö–æ–¥–∞
                            </div>
                            <div style="margin-bottom: 8px;">
                                4. <strong>–ö–æ–Ω—Ç—Ä–æ–ª—å 31-45 –º–∏–Ω:</strong> –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
                            </div>
                            <div>
                                5. <strong>–ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:</strong> –£—á–∏—Ç–µ—Å—å –Ω–∞ —É—Å–ø–µ—Ö–∞—Ö –∏ –æ—à–∏–±–∫–∞—Ö
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn reset" id="info-back-btn">
                            –ù–∞–∑–∞–¥ –∫ –≤–≤–æ–¥—É
                        </button>
                    </div>
                </div>
            </div>
            
            <footer>
                <p>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–æ—Ç–∞–ª–æ–≤ —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Å—Ç–∞–≤–æ–∫</p>
                <p>–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞–Ω–∞ –ò–≥–æ—Ä–µ–º –ï—Ñ–∏–º–æ–≤—ã–º –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –±–ª–∞–≥–æ—Å–æ—Å—Ç–æ—è–Ω–∏—è –ª—é–¥–µ–π</p>
                <p>–ó–∞—â–∏—â–µ–Ω–∞ –∞–≤—Ç–æ—Ä—Å–∫–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏. ¬© 2025 –≥</p>
                <p style="font-size: 0.7rem; opacity: 0.7; margin-top: 2px;">–°—Ç–∞–≤–∫–∏ –¥–µ–ª–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. 18+</p>
            </footer>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            const tabs = document.querySelectorAll('.tab');
            const calculateBtn = document.getElementById('calculate-btn');
            const resetBtn = document.getElementById('reset-btn');
            const backBtn = document.getElementById('results-back-btn');
            const infoBackBtn = document.getElementById('info-back-btn');
            const timeBackBtn = document.getElementById('time-back-btn');
            const betsBackBtn = document.getElementById('bets-back-btn');
            const historyBackBtn = document.getElementById('history-back-btn');
            const applyTimeBtn = document.getElementById('apply-time-btn');
            const goToBetsBtn = document.getElementById('go-to-bets-btn');
            const saveBetBtn = document.getElementById('save-bet-btn');
            const clearHistoryBtn = document.getElementById('clear-history-btn');
            const wParam = document.getElementById('w_param');
            const wValue = document.getElementById('w_value');
            const timeFactor = document.getElementById('time_factor');
            const timeFactorValue = document.getElementById('time_factor_value');
            const timePeriods = document.querySelectorAll('.time-period');
            const themeBtns = document.querySelectorAll('.theme-btn');
            
            // –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
            let betsHistory = JSON.parse(localStorage.getItem('betsHistory') || '[]');
            let currentTheme = localStorage.getItem('theme') || 'default';
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
            document.body.className = `theme-${currentTheme}`;
            themeBtns.forEach(btn => {
                if (btn.dataset.theme === currentTheme) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
            const periodData = {
                'prematch': { 
                    risk: '–í—ã—Å–æ–∫–∏–π', 
                    volatility: '–ù–∏–∑–∫–∞—è', 
                    efficiency: 65,
                    recommendation: '–ò–∑–±–µ–≥–∞—Ç—å',
                    bestTime: '–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º'
                },
                '1-15': { 
                    risk: '–°—Ä–µ–¥–Ω–∏–π', 
                    volatility: '–°—Ä–µ–¥–Ω—è—è', 
                    efficiency: 78,
                    recommendation: '–ù–∞–±–ª—é–¥–∞—Ç—å',
                    bestTime: '10-12 –º–∏–Ω—É—Ç–∞'
                },
                '16-30': { 
                    risk: '–ù–∏–∑–∫–∏–π', 
                    volatility: '–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è', 
                    efficiency: 92,
                    recommendation: '–õ–£–ß–®–ò–ô –ü–ï–†–ò–û–î',
                    bestTime: '20-25 –º–∏–Ω—É—Ç–∞'
                },
                '31-45': { 
                    risk: '–í—ã—Å–æ–∫–∏–π', 
                    volatility: '–í—ã—Å–æ–∫–∞—è', 
                    efficiency: 72,
                    recommendation: '–û—Å—Ç–æ—Ä–æ–∂–Ω–æ',
                    bestTime: '35-40 –º–∏–Ω—É—Ç–∞'
                },
                '46-60': { 
                    risk: '–°—Ä–µ–¥–Ω–∏–π', 
                    volatility: '–í—ã—Å–æ–∫–∞—è', 
                    efficiency: 81,
                    recommendation: '–•–æ—Ä–æ—à–∞—è —Å—Ç–∞–≤–∫–∞',
                    bestTime: '50-55 –º–∏–Ω—É—Ç–∞'
                },
                '61-75': { 
                    risk: '–ù–∏–∑–∫–∏–π', 
                    volatility: '–°—Ä–µ–¥–Ω—è—è', 
                    efficiency: 76,
                    recommendation: '–°—Ä–µ–¥–Ω—è—è —Å—Ç–∞–≤–∫–∞',
                    bestTime: '65-70 –º–∏–Ω—É—Ç–∞'
                },
                '76-90': { 
                    risk: '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π', 
                    volatility: '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è', 
                    efficiency: 58,
                    recommendation: '–ò–∑–±–µ–≥–∞—Ç—å',
                    bestTime: '80-85 –º–∏–Ω—É—Ç–∞'
                }
            };
            
            // –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –î–õ–Ø iOS - –¶–ò–§–†–û–í–ê–Ø –ö–õ–ê–í–ò–ê–¢–£–†–ê
            function setupIOSKeyboard() {
                const numberInputs = document.querySelectorAll('input[type="number"]');
                
                numberInputs.forEach(input => {
                    // –î–ª—è iOS –¥–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Ç–æ—á–∫–æ–π
                    input.setAttribute('inputmode', 'decimal');
                    input.setAttribute('pattern', '[0-9]*[.,]?[0-9]*');
                    
                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –¥–ª—è iOS
                    input.addEventListener('focus', function() {
                        // –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ –¥–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è iOS
                        this.classList.add('ios-focused');
                        
                        // –ù–∞ iOS —Ñ–æ–∫—É—Å –Ω–∞ input –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É
                        setTimeout(() => {
                            this.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }, 300);
                    });
                    
                    input.addEventListener('blur', function() {
                        this.classList.remove('ios-focused');
                    });
                    
                    // –ê–≤—Ç–æ–∑–∞–º–µ–Ω–∞ –∑–∞–ø—è—Ç–æ–π –Ω–∞ —Ç–æ—á–∫—É –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
                    input.addEventListener('input', function(e) {
                        let value = this.value;
                        
                        // –ó–∞–º–µ–Ω—è–µ–º –∑–∞–ø—è—Ç—É—é –Ω–∞ —Ç–æ—á–∫—É
                        value = value.replace(/,/g, '.');
                        
                        // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å–∏–º–≤–æ–ª—ã, –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä –∏ —Ç–æ—á–∫–∏
                        value = value.replace(/[^\d.]/g, '');
                        
                        // –£–¥–∞–ª—è–µ–º –ª–∏—à–Ω–∏–µ —Ç–æ—á–∫–∏ (–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é)
                        const parts = value.split('.');
                        if (parts.length > 2) {
                            value = parts[0] + '.' + parts.slice(1).join('');
                        }
                        
                        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–≤—É–º—è –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
                        if (value.includes('.')) {
                            const decimalParts = value.split('.');
                            if (decimalParts[1].length > 2) {
                                value = decimalParts[0] + '.' + decimalParts[1].substring(0, 2);
                            }
                        }
                        
                        this.value = value;
                    });
                    
                    // –î–ª—è iOS —Ç–∞–∫–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ change
                    input.addEventListener('change', function() {
                        let value = this.value;
                        value = value.replace(/,/g, '.');
                        this.value = value;
                    });
                });
                
                // –î–ª—è —Å–µ–ª–µ–∫—Ç–æ–≤ —Ç–∞–∫–∂–µ —É–ª—É—á—à–∞–µ–º UX –Ω–∞ iOS
                const selectElements = document.querySelectorAll('select');
                selectElements.forEach(select => {
                    select.addEventListener('focus', function() {
                        // –ù–∞ iOS —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à—Ä–∏—Ñ—Ç –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ —Å–µ–ª–µ–∫—Ç–µ
                        this.style.fontSize = '16px';
                    });
                    
                    select.addEventListener('blur', function() {
                        this.style.fontSize = '';
                    });
                });
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è iOS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
            setupIOSKeyboard();
            
            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∞–º–∏
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    document.getElementById(tabId).classList.add('fade-in');
                    
                    setTimeout(() => {
                        document.getElementById(tabId).classList.remove('fade-in');
                    }, 300);
                    
                    // –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É –∏—Å—Ç–æ—Ä–∏–∏ –æ–±–Ω–æ–≤–ª—è–µ–º –µ–µ
                    if (tabId === 'history') {
                        updateHistoryDisplay();
                    }
                });
            });
            
            // –°–º–µ–Ω–∞ —Ç–µ–º—ã
            themeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const theme = this.dataset.theme;
                    
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                    themeBtns.forEach(b => b.classList.remove('active'));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
                    this.classList.add('active');
                    
                    // –ú–µ–Ω—è–µ–º —Ç–µ–º—É
                    document.body.className = `theme-${theme}`;
                    currentTheme = theme;
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                    localStorage.setItem('theme', theme);
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification(`–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞: ${getThemeName(theme)}`);
                });
            });
            
            function getThemeName(theme) {
                const names = {
                    'default': '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è',
                    'dark': '–¢–µ–º–Ω–∞—è',
                    'light': '–°–≤–µ—Ç–ª–∞—è',
                    'blue': '–°–∏–Ω—è—è',
                    'green': '–ó–µ–ª–µ–Ω–∞—è'
                };
                return names[theme] || theme;
            }
            
            // –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
            timePeriods.forEach(period => {
                period.addEventListener('click', function() {
                    timePeriods.forEach(p => {
                        p.classList.remove('active');
                        p.classList.remove('recommended');
                    });
                    
                    this.classList.add('active');
                    const periodName = this.getAttribute('data-period');
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–µ—Ä–∏–æ–¥
                    if (periodName === '16-30') {
                        this.classList.add('recommended');
                    }
                });
            });
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
            applyTimeBtn.addEventListener('click', function() {
                const activePeriod = document.querySelector('.time-period.active');
                if (activePeriod) {
                    const period = activePeriod.getAttribute('data-period');
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∫–∞–∫ –Ω–æ–≤—ã–π
                    document.getElementById('time_new_period').value = period;
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–π –ø–µ—Ä–∏–æ–¥
                    let oldPeriod;
                    switch(period) {
                        case 'prematch': oldPeriod = 'prematch'; break;
                        case '1-15': oldPeriod = 'prematch'; break;
                        case '16-30': oldPeriod = '1-15'; break;
                        case '31-45': oldPeriod = '16-30'; break;
                        case '46-60': oldPeriod = '31-45'; break;
                        case '61-75': oldPeriod = '46-60'; break;
                        case '76-90': oldPeriod = '61-75'; break;
                        default: oldPeriod = 'prematch';
                    }
                    
                    document.getElementById('time_old_period').value = oldPeriod;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–∏–æ–¥–∞
                    updateCoefficientsByPeriod(period, oldPeriod);
                    
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É –≤–≤–æ–¥–∞
                    document.querySelector('.tab[data-tab="input"]').click();
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º
            goToBetsBtn.addEventListener('click', function() {
                document.querySelector('.tab[data-tab="bets"]').click();
            });
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –ø–æ –ø–µ—Ä–∏–æ–¥—É
            function updateCoefficientsByPeriod(newPeriod, oldPeriod) {
                const baseCoefficients = {
                    'prematch': { p1: 1.85, p2: 2.05 },
                    '1-15': { p1: 1.82, p2: 2.08 },
                    '16-30': { p1: 1.75, p2: 2.20 },
                    '31-45': { p1: 1.70, p2: 2.30 },
                    '46-60': { p1: 1.68, p2: 2.35 },
                    '61-75': { p1: 1.65, p2: 2.40 },
                    '76-90': { p1: 1.60, p2: 2.50 }
                };
                
                if (baseCoefficients[oldPeriod]) {
                    document.getElementById('p1_old').value = baseCoefficients[oldPeriod].p1;
                    document.getElementById('p2_old').value = baseCoefficients[oldPeriod].p2;
                }
                
                if (baseCoefficients[newPeriod]) {
                    document.getElementById('p1_new').value = baseCoefficients[newPeriod].p1;
                    document.getElementById('p2_new').value = baseCoefficients[newPeriod].p2;
                }
            }
            
            // –°–ª–∞–π–¥–µ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ w
            wParam.addEventListener('input', function() {
                wValue.textContent = this.value;
                calculate();
            });
            
            // –°–ª–∞–π–¥–µ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞
            timeFactor.addEventListener('input', function() {
                timeFactorValue.textContent = this.value;
                calculate();
            });
            
            // –ö–Ω–æ–ø–∫–∞ —Ä–∞—Å—á–µ—Ç–∞
            calculateBtn.addEventListener('click', function() {
                calculate();
                document.querySelector('.tab[data-tab="results"]').click();
                this.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
            
            // –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞
            resetBtn.addEventListener('click', function() {
                document.getElementById('p1_old').value = '1.85';
                document.getElementById('p2_old').value = '2.05';
                document.getElementById('p1_new').value = '1.75';
                document.getElementById('p2_new').value = '2.20';
                
                document.getElementById('time_old_period').value = '1-15';
                document.getElementById('time_new_period').value = '16-30';
                
                document.getElementById('tb25_old').value = '1.95';
                document.getElementById('tm25_old').value = '1.85';
                document.getElementById('tb35_old').value = '2.30';
                document.getElementById('tm35_old').value = '1.65';
                document.getElementById('tb15_old').value = '1.45';
                document.getElementById('tm15_old').value = '2.70';
                
                wParam.value = '1.5';
                wValue.textContent = '1.5';
                timeFactor.value = '1.2';
                timeFactorValue.textContent = '1.2';
                
                calculate();
            });
            
            // –ö–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
            backBtn.addEventListener('click', function() {
                document.querySelector('.tab[data-tab="input"]').click();
            });
            
            infoBackBtn.addEventListener('click', function() {
                document.querySelector('.tab[data-tab="input"]').click();
            });
            
            timeBackBtn.addEventListener('click', function() {
                document.querySelector('.tab[data-tab="input"]').click();
            });
            
            betsBackBtn.addEventListener('click', function() {
                document.querySelector('.tab[data-tab="results"]').click();
            });
            
            historyBackBtn.addEventListener('click', function() {
                document.querySelector('.tab[data-tab="bets"]').click();
            });
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é
            saveBetBtn.addEventListener('click', function() {
                const betData = getCurrentBetData();
                if (betData) {
                    saveBetToHistory(betData);
                    updateHistoryDisplay();
                    showNotification('–°—Ç–∞–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –∏—Å—Ç–æ—Ä–∏—é!');
                    document.querySelector('.tab[data-tab="history"]').click();
                }
            });
            
            // –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
            clearHistoryBtn.addEventListener('click', function() {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞–≤–æ–∫?')) {
                    betsHistory = [];
                    localStorage.setItem('betsHistory', JSON.stringify(betsHistory));
                    updateHistoryDisplay();
                    showNotification('–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫ –æ—á–∏—â–µ–Ω–∞');
                }
            });
            
            // Swipe –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
            let touchStartX = 0;
            
            document.addEventListener('touchstart', e => {
                touchStartX = e.touches[0].clientX;
            }, {passive: true});
            
            document.addEventListener('touchend', e => {
                const touchEndX = e.changedTouches[0].clientX;
                const diff = touchStartX - touchEndX;
                
                if (Math.abs(diff) > 50) {
                    const activeTab = document.querySelector('.tab.active');
                    let targetTab;
                    
                    if (diff > 0) {
                        targetTab = activeTab.nextElementSibling || tabs[0];
                    } else {
                        targetTab = activeTab.previousElementSibling || tabs[tabs.length - 1];
                    }
                    
                    if (targetTab) targetTab.click();
                }
            }, {passive: true});
            
            // –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏
            function calculate() {
                // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–∏—Å–µ–ª —Å –∑–∞–º–µ–Ω–æ–π –∑–∞–ø—è—Ç–æ–π –Ω–∞ —Ç–æ—á–∫—É
                function safeParseFloat(value) {
                    if (!value) return NaN;
                    // –ó–∞–º–µ–Ω—è–µ–º –∑–∞–ø—è—Ç—É—é –Ω–∞ —Ç–æ—á–∫—É –∏ —É–¥–∞–ª—è–µ–º –ø—Ä–æ–±–µ–ª—ã
                    const cleanValue = String(value).replace(/,/g, '.').replace(/\s/g, '');
                    return parseFloat(cleanValue);
                }
                
                // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º
                const p1_old = safeParseFloat(document.getElementById('p1_old').value) || 1.85;
                const p2_old = safeParseFloat(document.getElementById('p2_old').value) || 2.05;
                const p1_new = safeParseFloat(document.getElementById('p1_new').value) || 1.75;
                const p2_new = safeParseFloat(document.getElementById('p2_new').value) || 2.20;
                const w = parseFloat(wParam.value) || 1.5;
                const t = parseFloat(timeFactor.value) || 1.2;
                
                // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
                const timeOldPeriod = document.getElementById('time_old_period').value;
                const timeNewPeriod = document.getElementById('time_new_period').value;
                
                // –°—Ç–∞—Ä—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Ç–æ—Ç–∞–ª–æ–≤
                const totals_old = {
                    'tb25': safeParseFloat(document.getElementById('tb25_old').value) || 1.95,
                    'tm25': safeParseFloat(document.getElementById('tm25_old').value) || 1.85,
                    'tb35': safeParseFloat(document.getElementById('tb35_old').value) || 2.30,
                    'tm35': safeParseFloat(document.getElementById('tm35_old').value) || 1.65,
                    'tb15': safeParseFloat(document.getElementById('tb15_old').value) || 1.45,
                    'tm15': safeParseFloat(document.getElementById('tm15_old').value) || 2.70
                };
                
                // –†–∞—Å—á–µ—Ç –º–∞—Ä–∂–∏
                const r_old = 1/p1_old + 1/p2_old;
                const r_new = 1/p1_new + 1/p2_new;
                const r_ratio = r_new / r_old;
                
                // –ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞
                const timeAdjustedPower = w * t;
                const correction_factor = Math.pow(r_ratio, timeAdjustedPower);
                
                // –ù–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã
                const totals_new = {};
                const deltas = {};
                const deltaPercentages = {};
                
                for (const [key, k_old] of Object.entries(totals_old)) {
                    totals_new[key] = k_old * correction_factor;
                    deltas[key] = totals_new[key] - k_old;
                    deltaPercentages[key] = (deltas[key] / k_old) * 100;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                document.getElementById('r_old').textContent = r_old.toFixed(3);
                document.getElementById('r_new').textContent = r_new.toFixed(3);
                document.getElementById('time_factor_display').textContent = t.toFixed(1) + 'x';
                document.getElementById('time_period').textContent = `${timeOldPeriod} ‚Üí ${timeNewPeriod}`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã
                for (const [key, value] of Object.entries(totals_new)) {
                    document.getElementById(`${key}_new`).textContent = value.toFixed(3);
                    
                    const delta = deltas[key];
                    const deltaEl = document.getElementById(`${key}_delta`);
                    deltaEl.textContent = (delta >= 0 ? '+' : '') + delta.toFixed(3);
                    deltaEl.className = `delta ${delta >= 0 ? 'positive' : 'negative'}`;
                }
                
                // –°–≤–æ–¥–∫–∞
                const deltaValues = Object.values(deltas);
                const avgDelta = deltaValues.reduce((a, b) => a + b, 0) / deltaValues.length;
                document.getElementById('avg_change').textContent = 
                    (avgDelta >= 0 ? '+' : '') + avgDelta.toFixed(3);
                
                // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ
                const maxDelta = Math.max(...deltaValues);
                const minDelta = Math.min(...deltaValues);
                
                const totalNames = {
                    'tb25': '–¢–ë 2.5', 'tm25': '–¢–ú 2.5',
                    'tb35': '–¢–ë 3.5', 'tm35': '–¢–ú 3.5',
                    'tb15': '–¢–ë 1.5', 'tm15': '–¢–ú 1.5'
                };
                
                let maxKey = '', minKey = '';
                for (const [key, delta] of Object.entries(deltas)) {
                    if (delta === maxDelta) maxKey = key;
                    if (delta === minDelta) minKey = key;
                }
                
                document.getElementById('max_change').textContent = 
                    `${totalNames[maxKey]} (+${maxDelta.toFixed(3)})`;
                document.getElementById('min_change').textContent = 
                    `${totalNames[minKey]} (+${minDelta.toFixed(3)})`;
                
                // –†–∞—Å—á–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                const periodEfficiency = periodData[timeNewPeriod]?.efficiency || 75;
                const timeDiff = getTimeDiff(timeOldPeriod, timeNewPeriod);
                const efficiency = Math.min(95, periodEfficiency + (timeDiff * 2));
                document.getElementById('efficiency').textContent = efficiency + '%';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç—Ä–µ–Ω–¥ –≥—Ä–∞—Ñ–∏–∫–∏
                updateTrendCharts(p1_old, p1_new, p2_old, p2_new);
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞–≤–∫–∞–º
                generateBetRecommendations(totals_new, deltas, deltaPercentages, timeNewPeriod);
            }
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–π —Å—Ç–∞–≤–∫–∏
            function getCurrentBetData() {
                const betName = document.getElementById('bet_main_name').textContent;
                const betCoef = parseFloat(document.getElementById('bet_main_coef').textContent);
                const betTime = document.getElementById('bet_main_time').textContent;
                const betPeriod = document.getElementById('bet_optimal_period').textContent;
                
                if (!betName || !betCoef) return null;
                
                return {
                    id: Date.now(),
                    date: new Date().toLocaleString('ru-RU'),
                    name: betName,
                    coefficient: betCoef,
                    time: betTime,
                    period: betPeriod,
                    status: 'pending', // pending, win, loss
                    profit: calculatePotentialProfit(betCoef)
                };
            }
            
            // –†–∞—Å—á–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏
            function calculatePotentialProfit(coef) {
                const stake = 1000; // –£—Å–ª–æ–≤–Ω–∞—è —Å—Ç–∞–≤–∫–∞ 1000 —Ä—É–±
                return Math.round((coef - 1) * stake);
            }
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é
            function saveBetToHistory(betData) {
                betsHistory.unshift(betData); // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ
                
                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 50 –∑–∞–ø–∏—Å—è–º–∏
                if (betsHistory.length > 50) {
                    betsHistory = betsHistory.slice(0, 50);
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                localStorage.setItem('betsHistory', JSON.stringify(betsHistory));
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏
            function updateHistoryDisplay() {
                const historyList = document.getElementById('history-list');
                const emptyHistory = document.getElementById('empty-history');
                
                if (betsHistory.length === 0) {
                    historyList.innerHTML = '';
                    emptyHistory.style.display = 'block';
                    updateStatistics();
                    return;
                }
                
                emptyHistory.style.display = 'none';
                
                let html = '';
                betsHistory.forEach(bet => {
                    const statusClass = bet.status;
                    const statusText = getStatusText(bet.status);
                    const statusColor = getStatusColor(bet.status);
                    
                    html += `
                        <div class="history-item ${statusClass}" data-id="${bet.id}">
                            <div class="history-header">
                                <div class="history-date">${bet.date}</div>
                                <div class="history-status ${statusColor}">${statusText}</div>
                            </div>
                            <div class="history-details">
                                <div class="history-detail">
                                    <div class="label">–°—Ç–∞–≤–∫–∞</div>
                                    <div class="value">${bet.name}</div>
                                </div>
                                <div class="history-detail">
                                    <div class="label">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç</div>
                                    <div class="value">${bet.coefficient.toFixed(3)}</div>
                                </div>
                                <div class="history-detail">
                                    <div class="label">–í—Ä–µ–º—è</div>
                                    <div class="value">${bet.time}</div>
                                </div>
                                <div class="history-detail">
                                    <div class="label">–ü–µ—Ä–∏–æ–¥</div>
                                    <div class="value">${bet.period}</div>
                                </div>
                            </div>
                            <div class="history-actions">
                                ${bet.status !== 'win' ? 
                                    `<button class="history-btn win" onclick="markBetAs('${bet.id}', 'win')">–í—ã–∏–≥—Ä–∞–ª–∞</button>` : 
                                    '<button class="history-btn win" disabled>‚úì –í—ã–∏–≥—Ä–∞–ª–∞</button>'}
                                ${bet.status !== 'loss' ? 
                                    `<button class="history-btn loss" onclick="markBetAs('${bet.id}', 'loss')">–ü—Ä–æ–∏–≥—Ä–∞–ª–∞</button>` : 
                                    '<button class="history-btn loss" disabled>‚úó –ü—Ä–æ–∏–≥—Ä–∞–ª–∞</button>'}
                                <button class="history-btn delete" onclick="deleteBet('${bet.id}')">–£–¥–∞–ª–∏—Ç—å</button>
                            </div>
                        </div>
                    `;
                });
                
                historyList.innerHTML = html;
                updateStatistics();
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            function updateStatistics() {
                const totalBets = betsHistory.length;
                const winBets = betsHistory.filter(b => b.status === 'win').length;
                const lossBets = betsHistory.filter(b => b.status === 'loss').length;
                const pendingBets = betsHistory.filter(b => b.status === 'pending').length;
                
                const winRate = totalBets > 0 ? Math.round((winBets / totalBets) * 100) : 0;
                
                // –†–∞—Å—á–µ—Ç –æ–±—â–µ–π –ø—Ä–∏–±—ã–ª–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω–æ)
                let totalProfit = 0;
                betsHistory.forEach(bet => {
                    if (bet.status === 'win') {
                        totalProfit += calculatePotentialProfit(bet.coefficient);
                    } else if (bet.status === 'loss') {
                        totalProfit -= 1000; // –£—Å–ª–æ–≤–Ω–∞—è —Å—Ç–∞–≤–∫–∞
                    }
                });
                
                document.getElementById('total-bets').textContent = totalBets;
                document.getElementById('win-rate').textContent = `${winRate}%`;
                document.getElementById('total-profit').textContent = `${totalProfit >= 0 ? '+' : ''}${totalProfit}`;
                
                // –¶–≤–µ—Ç –ø—Ä–∏–±—ã–ª–∏
                const profitElement = document.getElementById('total-profit');
                profitElement.style.color = totalProfit >= 0 ? 'var(--success)' : 'var(--danger)';
            }
            
            // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏—Å—Ç–æ—Ä–∏–µ–π (–¥–æ–±–∞–≤–ª—è–µ–º –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏)
            window.markBetAs = function(id, status) {
                const betIndex = betsHistory.findIndex(b => b.id == id);
                if (betIndex !== -1) {
                    betsHistory[betIndex].status = status;
                    localStorage.setItem('betsHistory', JSON.stringify(betsHistory));
                    updateHistoryDisplay();
                    showNotification(`–°—Ç–∞—Ç—É—Å —Å—Ç–∞–≤–∫–∏ –∏–∑–º–µ–Ω–µ–Ω: ${getStatusText(status)}`);
                }
            };
            
            window.deleteBet = function(id) {
                if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç–∞–≤–∫—É –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏?')) {
                    betsHistory = betsHistory.filter(b => b.id != id);
                    localStorage.setItem('betsHistory', JSON.stringify(betsHistory));
                    updateHistoryDisplay();
                    showNotification('–°—Ç–∞–≤–∫–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏');
                }
            };
            
            // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
            function getStatusText(status) {
                const texts = {
                    'pending': '–í –æ–∂–∏–¥–∞–Ω–∏–∏',
                    'win': '–í—ã–∏–≥—Ä–∞–ª–∞',
                    'loss': '–ü—Ä–æ–∏–≥—Ä–∞–ª–∞'
                };
                return texts[status] || status;
            }
            
            function getStatusColor(status) {
                const colors = {
                    'pending': 'status-pending',
                    'win': 'status-win',
                    'loss': 'status-loss'
                };
                return colors[status] || 'status-pending';
            }
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —Å—Ç–∞–≤–∫–∞–º
            function generateBetRecommendations(totals_new, deltas, deltaPercentages, timeNewPeriod) {
                const totalNames = {
                    'tb25': '–¢–ë 2.5', 'tm25': '–¢–ú 2.5',
                    'tb35': '–¢–ë 3.5', 'tm35': '–¢–ú 3.5',
                    'tb15': '–¢–ë 1.5', 'tm15': '–¢–ú 1.5'
                };
                
                // –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
                const bets = [];
                for (const [key, delta] of Object.entries(deltas)) {
                    bets.push({
                        key,
                        name: totalNames[key],
                        coef: totals_new[key],
                        delta: delta,
                        deltaPercent: deltaPercentages[key],
                        score: calculateBetScore(totals_new[key], delta, deltaPercentages[key])
                    });
                }
                
                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ score (–ª—É—á—à–∏–µ —Å—Ç–∞–≤–∫–∏ –ø–µ—Ä–≤—ã–º–∏)
                bets.sort((a, b) => b.score - a.score);
                
                // –ì–ª–∞–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (–ª—É—á—à–∞—è —Å—Ç–∞–≤–∫–∞)
                const mainBet = bets[0];
                document.getElementById('bet_main_name').textContent = mainBet.name;
                document.getElementById('bet_main_coef').textContent = mainBet.coef.toFixed(3);
                document.getElementById('bet_main_time').textContent = getOptimalEntryTime(timeNewPeriod);
                document.getElementById('bet_main_profit').textContent = `+${(mainBet.deltaPercent).toFixed(1)}%`;
                
                // –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                let reason = '';
                if (mainBet.deltaPercent > 0.03) {
                    reason = `–ù–∞–∏–±–æ–ª—å—à–∏–π —Ä–æ—Å—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ (+${mainBet.delta.toFixed(3)}). –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤—ã—Ä–æ—Å –Ω–∞ ${(mainBet.deltaPercent).toFixed(1)}%, —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫—É –±—É–∫–º–µ–∫–µ—Ä–æ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏—è.`;
                } else if (mainBet.coef > 2.5) {
                    reason = `–í—ã—Å–æ–∫–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç ${mainBet.coef.toFixed(3)} –ø—Ä–∏ —Ä–æ—Å—Ç–µ +${mainBet.delta.toFixed(3)}. –•–æ—Ä–æ—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞.`;
                } else {
                    reason = `–°—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –ò–∑–º–µ–Ω–µ–Ω–∏–µ +${mainBet.delta.toFixed(3)} —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç–∞–≤–∫–∏.`;
                }
                document.getElementById('bet_main_reason').textContent = reason;
                
                // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–≤–∫–∏
                if (bets.length > 1) {
                    document.getElementById('bet_alt1_name').textContent = bets[1].name;
                    document.getElementById('bet_alt1_coef').textContent = bets[1].coef.toFixed(3);
                    document.getElementById('bet_alt1_potential').textContent = `+${(bets[1].deltaPercent).toFixed(0)}%`;
                }
                
                if (bets.length > 2) {
                    document.getElementById('bet_alt2_name').textContent = bets[2].name;
                    document.getElementById('bet_alt2_coef').textContent = bets[2].coef.toFixed(3);
                    document.getElementById('bet_alt2_potential').textContent = `+${(bets[2].deltaPercent).toFixed(0)}%`;
                }
                
                // –°—Ç—Ä–∞—Ç–µ–≥–∏—è
                const periodData = getPeriodData(timeNewPeriod);
                document.getElementById('bet_strategy').textContent = 
                    `–î–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É –Ω–∞ ${periodData.bestTime} –ø—Ä–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–µ –≤—ã—à–µ ${(mainBet.coef * 0.95).toFixed(2)}`;
                
                // –î–µ—Ç–∞–ª–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                document.getElementById('bet_optimal_period').textContent = 
                    periodData.name || '16-30 –º–∏–Ω—É—Ç–∞';
                document.getElementById('bet_best_time').textContent = 
                    periodData.bestTime || '20-25 –º–∏–Ω—É—Ç–∞';
                document.getElementById('bet_size').textContent = 
                    getRecommendedBetSize(mainBet.coef, mainBet.deltaPercent);
                document.getElementById('bet_accuracy').textContent = 
                    `¬±${(100 - (periodData.efficiency || 85) + 5).toFixed(1)}%`;
            }
            
            // –†–∞—Å—á–µ—Ç score –¥–ª—è —Å—Ç–∞–≤–∫–∏
            function calculateBetScore(coef, delta, deltaPercent) {
                // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–º
                const coefScore = Math.min(10, (coef - 1.2) * 5);
                
                // –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
                const deltaScore = delta * 20;
                
                // –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
                const deltaPercentScore = deltaPercent * 10;
                
                // –û–±—â–∏–π score
                return coefScore + deltaScore + deltaPercentScore;
            }
            
            // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç–∞–≤–∫–∏
            function getRecommendedBetSize(coef, deltaPercent) {
                if (coef > 3) return '1-2% –æ—Ç –±–∞–Ω–∫–∞';
                if (coef > 2) return '2-3% –æ—Ç –±–∞–Ω–∫–∞';
                if (coef > 1.5) return '3-4% –æ—Ç –±–∞–Ω–∫–∞';
                return '1% –æ—Ç –±–∞–Ω–∫–∞';
            }
            
            // –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥–∞
            function getPeriodData(period) {
                const periodNames = {
                    'prematch': { name: '–ü—Ä–µ–º–∞—Ç—á', bestTime: '–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º', efficiency: 65 },
                    '1-15': { name: '1-15 –º–∏–Ω—É—Ç–∞', bestTime: '10-12 –º–∏–Ω—É—Ç–∞', efficiency: 78 },
                    '16-30': { name: '16-30 –º–∏–Ω—É—Ç–∞', bestTime: '20-25 –º–∏–Ω—É—Ç–∞', efficiency: 92 },
                    '31-45': { name: '31-45 –º–∏–Ω—É—Ç–∞', bestTime: '35-40 –º–∏–Ω—É—Ç–∞', efficiency: 72 },
                    '46-60': { name: '46-60 –º–∏–Ω—É—Ç–∞', bestTime: '50-55 –º–∏–Ω—É—Ç–∞', efficiency: 81 },
                    '61-75': { name: '61-75 –º–∏–Ω—É—Ç–∞', bestTime: '65-70 –º–∏–Ω—É—Ç–∞', efficiency: 76 },
                    '76-90': { name: '76-90 –º–∏–Ω—É—Ç–∞', bestTime: '80-85 –º–∏–Ω—É—Ç–∞', efficiency: 58 }
                };
                return periodNames[period] || periodNames['16-30'];
            }
            
            // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏
            function getTimeDiff(period1, period2) {
                const periods = ['prematch', '1-15', '16-30', '31-45', '46-60', '61-75', '76-90'];
                const idx1 = periods.indexOf(period1);
                const idx2 = periods.indexOf(period2);
                return Math.abs(idx2 - idx1);
            }
            
            function getOptimalEntryTime(period) {
                const optimalTimes = {
                    'prematch': '–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º',
                    '1-15': '10-12 –º–∏–Ω—É—Ç–∞',
                    '16-30': '20-25 –º–∏–Ω—É—Ç–∞',
                    '31-45': '35-40 –º–∏–Ω—É—Ç–∞',
                    '46-60': '50-55 –º–∏–Ω—É—Ç–∞',
                    '61-75': '65-70 –º–∏–Ω—É—Ç–∞',
                    '76-90': '80-85 –º–∏–Ω—É—Ç–∞'
                };
                return optimalTimes[period] || '20-25 –º–∏–Ω—É—Ç–∞';
            }
            
            function updateTrendCharts(p1_old, p1_new, p2_old, p2_new) {
                const p1Change = ((p1_new - p1_old) / p1_old * 100).toFixed(1);
                const p2Change = ((p2_new - p2_old) / p2_old * 100).toFixed(1);
                
                document.querySelectorAll('.trend-value')[0].textContent = 
                    (p1Change >= 0 ? '‚ñ≤ ' : '‚ñº ') + Math.abs(p1Change) + '%';
                document.querySelectorAll('.trend-value')[1].textContent = 
                    (p2Change >= 0 ? '‚ñ≤ ' : '‚ñº ') + Math.abs(p2Change) + '%';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
                const p1Fill = Math.min(100, Math.max(0, 50 - parseFloat(p1Change) * 2));
                const p2Fill = Math.min(100, Math.max(0, 50 + parseFloat(p2Change) * 2));
                
                document.querySelectorAll('.trend-fill')[0].style.width = p1Fill + '%';
                document.querySelectorAll('.trend-fill')[1].style.width = p2Fill + '%';
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            function showNotification(message) {
                // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                const oldNotification = document.querySelector('.notification');
                if (oldNotification) oldNotification.remove();
                
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.style.cssText = `
                    position: fixed;
                    top: 100px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: var(--success);
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    z-index: 1000;
                    font-weight: 600;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                    animation: slideIn 0.3s ease;
                    max-width: 80%;
                    text-align: center;
                `;
                
                notification.textContent = message;
                document.body.appendChild(notification);
                
                // –£–¥–∞–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
                if (!document.querySelector('#notification-styles')) {
                    const style = document.createElement('style');
                    style.id = 'notification-styles';
                    style.textContent = `
                        @keyframes slideIn {
                            from { top: 80px; opacity: 0; }
                            to { top: 100px; opacity: 1; }
                        }
                        @keyframes slideOut {
                            from { top: 100px; opacity: 1; }
                            to { top: 80px; opacity: 0; }
                        }
                    `;
                    document.head.appendChild(style);
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            calculate();
            updateHistoryDisplay();
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è iOS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
            if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                document.body.classList.add('ios-device');
                
                // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ input
                document.addEventListener('focusin', function() {
                    document.documentElement.style.zoom = '1';
                });
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã iOS
                let originalHeight = window.innerHeight;
                
                window.addEventListener('resize', function() {
                    if (window.innerHeight < originalHeight) {
                        // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç–∫—Ä—ã—Ç–∞
                        document.body.classList.add('keyboard-open');
                    } else {
                        // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∑–∞–∫—Ä—ã—Ç–∞
                        document.body.classList.remove('keyboard-open');
                    }
                });
                
                // –£–ª—É—á—à–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
                const inputs = document.querySelectorAll('input, select');
                inputs.forEach(input => {
                    input.addEventListener('focus', function() {
                        setTimeout(() => {
                            const rect = this.getBoundingClientRect();
                            if (rect.bottom > window.innerHeight - 200) {
                                this.scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'center'
                                });
                            }
                        }, 100);
                    });
                });
            }
        });
    </script>
</body>
</html>
